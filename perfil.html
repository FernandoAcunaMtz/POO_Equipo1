<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mi Perfil | Cursos Tech Work</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="stylesheet" href="./css/perfil.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Navbar (igual que en cursos.html) -->
    <header>
        <nav class="navbar navbar-expand-lg fixed-top">
            <div class="container">
                <a class="navbar-brand d-flex align-items-center" href="./index.html">
                    <img src="./img/logo.png" alt="Logo" class="logo-circular me-2">
                    <span class="brand-text">Cursos Tech Work</span>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
                        <li class="nav-item"><a class="nav-link" href="./index.html">Inicio</a></li>
                        <li class="nav-item"><a class="nav-link" href="./cursos.html">Cursos</a></li>
                        <li class="nav-item"><a class="nav-link" href="https://app.daily.dev/" target="_blank">Blog</a>
                        </li>
                        <li class="nav-item"><a class="nav-link" href="./contacto.html">Contacto</a></li>
                        <!-- Panel Admin (visible solo para administradores) -->
                        <li class="nav-item nav-item-admin" style="display: none;">
                            <a class="nav-link" href="admin.html">Panel Admin</a>
                        </li>

                        <!-- Enlace a Perfil (visible para todos los usuarios logueados) -->
                        <li class="nav-item nav-item-perfil" style="display: none;">
                            <a class="nav-link" href="perfil.html">Mi Perfil</a>
                        </li>
                        <!-- Carrito -->
                        <div class="ms-3 position-relative">
                            <button class="btn btn-outline-light position-relative" id="btn-carrito">
                                <i class="bi bi-cart3"></i>
                                <span
                                    class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                                    id="contador">
                                    0
                                </span>
                            </button>
                            <div id="carrito-lista" class="dropdown-menu dropdown-menu-end p-3"
                                style="min-width: 250px;">
                                <p class="text-center fw-bold mb-2">Cursos en el carrito:</p>
                                <ul class="list-unstyled mb-2" id="carrito-items"></ul>
                                <div class="d-grid mt-3">
                                    <a href="./metodopago.html" id="btn-pago" class="btn btn-primary"
                                        style="display: none;">
                                        Realizar pago
                                    </a>
                                </div>
                            </div>
                        </div>
                    </ul>
                    <form class="d-flex">
                        <button class="btn btn-inicio" type="button" onclick="window.location.href='login.html'">
                            Cerrar Sesión
                        </button>
                    </form>
                </div>
            </div>
        </nav>
    </header>

    <!-- Contenido principal del perfil -->
    <main class="profile-container">
        <div class="container py-5">
            <!-- Encabezado del perfil -->
            <div class="row mb-5">
                <div class="col-12 text-center">
                    <h1 class="profile-title">MI PERFIL</h1>
                    <hr class="linea-blanca mx-auto">
                </div>
            </div>

            <!-- Sección de información del usuario -->
            <div class="row glass-effect profile-section mb-5 p-4 rounded">
                <div class="col-md-4 text-center mb-4 mb-md-0">
                    <h3 class="profile-username">Estudiante</h3>
                    <p class="profile-email">estudiante@gmail.com</p>
                    <div class="profile-stats">
                        <div class="stat-item">
                            <span class="stat-number">5</span>
                            <span class="stat-label">Cursos</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">3</span>
                            <span class="stat-label">Certificados</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">78%</span>
                            <span class="stat-label">Progreso</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-8">
                    <h4 class="section-title mb-4">SOBRE MÍ</h4>
                    <p class="profile-bio">Estudiante de desarrollo de software apasionado por la tecnología y el
                        aprendizaje continuo. Actualmente enfocado en mejorar mis habilidades en UI/UX y desarrollo
                        frontend.</p>

                    <div class="progress-container mt-4">
                        <h5 class="progress-title">Mi progreso general</h5>
                        <div class="progress">
                            <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                                style="width: 78%" aria-valuenow="78" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <span class="progress-percent">78% completado</span>
                    </div>

                    <div class="skills-container mt-4">
                        <h5 class="skills-title">Mis habilidades</h5>
                        <div class="skill-tags">
                            <span class="skill-tag">HTML</span>
                            <span class="skill-tag">CSS</span>
                            <span class="skill-tag">JavaScript</span>
                            <span class="skill-tag">UI/UX</span>
                            <span class="skill-tag">Python</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sección de cursos en progreso -->
            <div class="row glass-effect profile-section mb-5 p-4 rounded">
                <div class="col-12">
                    <h4 class="section-title mb-4">MIS CURSOS</h4>

                    <div class="course-categories mb-4">
                        <button class="category-btn active" data-filter="all">Todos</button>
                        <button class="category-btn" data-filter="progress">En progreso</button>
                        <button class="category-btn" data-filter="completed">Completados</button>
                    </div>

                    <div class="row">
                        <!-- Curso 1 -->
                        <div class="col-md-6 mb-4 course-card" data-status="progress">
                            <div class="card h-100 glass-effect-inner">
                                <div class="card-body">
                                    <div class="course-header">
                                        <h5 class="course-title">Desarrollo UI/UX</h5>
                                        <span class="course-status badge bg-warning">En progreso</span>
                                    </div>
                                    <p class="course-description">Aprende los fundamentos del diseño de experiencia de
                                        usuario e interfaces.</p>

                                    <div class="course-progress mt-3">
                                        <div class="progress-info">
                                            <span>Progreso: 65%</span>
                                            <span>Lección 5/8</span>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar" role="progressbar" style="width: 65%"
                                                aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                    </div>

                                    <div class="course-actions mt-3">
                                        <button class="btn btn-continue">Continuar</button>
                                        <button class="btn btn-outline-light btn-details">Detalles</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Curso 2 -->
                        <div class="col-md-6 mb-4 course-card" data-status="progress">
                            <div class="card h-100 glass-effect-inner">
                                <div class="card-body">
                                    <div class="course-header">
                                        <h5 class="course-title">Minijuegos con Python</h5>
                                        <span class="course-status badge bg-warning">En progreso</span>
                                    </div>
                                    <p class="course-description">Crea juegos simples como Pong, adivinanzas o
                                        laberintos usando Python paso a paso.</p>

                                    <div class="course-progress mt-3">
                                        <div class="progress-info">
                                            <span>Progreso: 42%</span>
                                            <span>Lección 3/7</span>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar" role="progressbar" style="width: 42%"
                                                aria-valuenow="42" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                    </div>

                                    <div class="course-actions mt-3">
                                        <button class="btn btn-continue">Continuar</button>
                                        <button class="btn btn-outline-light btn-details">Detalles</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Curso 3 -->
                        <div class="col-md-6 mb-4 course-card" data-status="completed">
                            <div class="card h-100 glass-effect-inner">
                                <div class="card-body">
                                    <div class="course-header">
                                        <h5 class="course-title">Piensa como programador</h5>
                                        <span class="course-status badge bg-success">Completado</span>
                                    </div>
                                    <p class="course-description">Curso de lógica para entender cómo se resuelven
                                        problemas con código.</p>

                                    <div class="course-progress mt-3">
                                        <div class="progress-info">
                                            <span>Progreso: 100%</span>
                                            <span>Completado el 15/05/2024</span>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar bg-success" role="progressbar" style="width: 100%"
                                                aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                    </div>

                                    <div class="course-actions mt-3">
                                        <button class="btn btn-certificate">Ver certificado</button>
                                        <button class="btn btn-outline-light btn-review">Revisar</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Curso 4 -->
                        <div class="col-md-6 mb-4 course-card" data-status="completed">
                            <div class="card h-100 glass-effect-inner">
                                <div class="card-body">
                                    <div class="course-header">
                                        <h5 class="course-title">Fundamentos de Bases de Datos con SQL</h5>
                                        <span class="course-status badge bg-success">Completado</span>
                                    </div>
                                    <p class="course-description">Conecta, consulta y administra bases de datos con SQL
                                        desde cero usando MySQL.</p>

                                    <div class="course-progress mt-3">
                                        <div class="progress-info">
                                            <span>Progreso: 100%</span>
                                            <span>Completado el 22/03/2024</span>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar bg-success" role="progressbar" style="width: 100%"
                                                aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                    </div>

                                    <div class="course-actions mt-3">
                                        <button class="btn btn-certificate">Ver certificado</button>
                                        <button class="btn btn-outline-light btn-review">Revisar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sección de certificaciones -->
            <div class="row glass-effect profile-section mb-5 p-4 rounded">
                <div class="col-12">
                    <h4 class="section-title mb-4">MIS CERTIFICACIONES</h4>

                    <div class="row">
                        <!-- Certificado 1 -->
                        <div class="col-md-6 col-lg-4 mb-4">
                            <div class="certificate-card glass-effect-inner h-100">
                                <div class="certificate-header">
                                    <i class="bi bi-award-fill certificate-icon"></i>
                                    <h5 class="certificate-title">Piensa como programador</h5>
                                </div>
                                <div class="certificate-body">
                                    <p class="certificate-date">Emitido: 15/05/2024</p>
                                    <p class="certificate-id">ID: CTW-2024-05842</p>
                                    <div class="certificate-actions">
                                        <button class="btn btn-view">Ver certificado</button>
                                        <button class="btn btn-download">Descargar</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Certificado 2 -->
                        <div class="col-md-6 col-lg-4 mb-4">
                            <div class="certificate-card glass-effect-inner h-100">
                                <div class="certificate-header">
                                    <i class="bi bi-award-fill certificate-icon"></i>
                                    <h5 class="certificate-title">Fundamentos de Bases de Datos con SQL</h5>
                                </div>
                                <div class="certificate-body">
                                    <p class="certificate-date">Emitido: 22/03/2024</p>
                                    <p class="certificate-id">ID: CTW-2024-04176</p>
                                    <div class="certificate-actions">
                                        <button class="btn btn-view">Ver certificado</button>
                                        <button class="btn btn-download">Descargar</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Certificado 3 -->
                        <div class="col-md-6 col-lg-4 mb-4">
                            <div class="certificate-card glass-effect-inner h-100">
                                <div class="certificate-header">
                                    <i class="bi bi-award-fill certificate-icon"></i>
                                    <h5 class="certificate-title">Inteligencia artificial para todos</h5>
                                </div>
                                <div class="certificate-body">
                                    <p class="certificate-date">Emitido: 10/02/2024</p>
                                    <p class="certificate-id">ID: CTW-2024-02931</p>
                                    <div class="certificate-actions">
                                        <button class="btn btn-view">Ver certificado</button>
                                        <button class="btn btn-download">Descargar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sección de logros -->
            <div class="row glass-effect profile-section p-4 rounded">
                <div class="col-12">
                    <h4 class="section-title mb-4">MIS LOGROS</h4>

                    <div class="achievements-container">
                        <!-- Logro 1 -->
                        <div class="achievement-item">
                            <div class="achievement-icon">
                                <i class="bi bi-star-fill"></i>
                            </div>
                            <div class="achievement-info">
                                <h5 class="achievement-title">Primer curso completado</h5>
                                <p class="achievement-date">Obtenido: 10/02/2024</p>
                            </div>
                        </div>

                        <!-- Logro 2 -->
                        <div class="achievement-item">
                            <div class="achievement-icon">
                                <i class="bi bi-lightning-charge-fill"></i>
                            </div>
                            <div class="achievement-info">
                                <h5 class="achievement-title">Estudiante rápido</h5>
                                <p class="achievement-date">Obtenido: 22/03/2024</p>
                            </div>
                        </div>

                        <!-- Logro 3 -->
                        <div class="achievement-item">
                            <div class="achievement-icon">
                                <i class="bi bi-book-half"></i>
                            </div>
                            <div class="achievement-info">
                                <h5 class="achievement-title">5 lecciones en un día</h5>
                                <p class="achievement-date">Obtenido: 05/05/2024</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer (igual que en cursos.html) -->
    <section>
        <footer class="footer footer-negro">
            <p>© 2025 Cursos Tech Work. Todos los derechos reservados.</p>
        </footer>
    </section>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./js/tilina_script.js"></script>
    <script src="./js/perfil.js"></script>
    <script src="./js/auth.js"></script>
    <script>
        // Función para filtrar cursos por categoría
        document.querySelectorAll('.category-btn').forEach(button => {
            button.addEventListener('click', function () {
                // Remover clase active de todos los botones
                document.querySelectorAll('.category-btn').forEach(btn => {
                    btn.classList.remove('active');
                });

                // Agregar clase active al botón clickeado
                this.classList.add('active');

                const filter = this.getAttribute('data-filter');
                const courseCards = document.querySelectorAll('.course-card');

                courseCards.forEach(card => {
                    if (filter === 'all' || card.getAttribute('data-status') === filter) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });

        // Simular agregar al carrito (similar a cursos.html)
        const cursos = {
            'Desarrollo UI/UX': 439,
            'Ciberseguridad': 439,
            'Inteligencia artificial para todos': 439,
            'Minijuegos con Python': 439,
            'Fundamentos de Bases de Datos con SQL': 439,
            'Piensa como programador': 439
        };

        let carrito = [];
        let total = 0;

        function actualizarCarrito() {
            const carritoItems = document.getElementById('carrito-items');
            const contador = document.getElementById('contador');
            const btnPago = document.getElementById('btn-pago');
            carritoItems.innerHTML = '';
            total = 0;

            carrito.forEach(item => {
                const li = document.createElement('li');
                li.textContent = `${item.nombre} - $${item.precio}.00 MXN`;
                carritoItems.appendChild(li);
                total += item.precio;
            });

            if (carrito.length > 0) {
                const totalLi = document.createElement('li');
                totalLi.className = 'fw-bold mt-2';
                totalLi.textContent = `Total: $${total}.00 MXN`;
                carritoItems.appendChild(totalLi);
                btnPago.style.display = 'block';
            } else {
                btnPago.style.display = 'none';
            }

            contador.textContent = carrito.length;
        }

        document.getElementById('btn-carrito').addEventListener('click', function () {
            document.getElementById('carrito-lista').classList.toggle('show');
        });

        document.addEventListener('click', function (event) {
            const carritoLista = document.getElementById('carrito-lista');
            const btnCarrito = document.getElementById('btn-carrito');
            if (!carritoLista.contains(event.target) && !btnCarrito.contains(event.target)) {
                carritoLista.classList.remove('show');
            }
        });

        document.getElementById('btn-pago').addEventListener('click', function () {
            localStorage.setItem('totalPagar', total);
            window.location.href = 'metodopago.html';
        });
    </script>
</body>

</html>